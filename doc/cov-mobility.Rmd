---
title: "COVID Mobility Analysis"
author: "Robert On"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_notebook
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# Missing data

```{r}
drake::readd(google_mob_fips) %>% 
  filter(geo_name != "United States") %>%
  filter_at(vars(ends_with("_fips")), all_vars(is.na(.)))
```

We were able to match all counties from the Google Mobility data set to FIPS codes from the US Census Bureau.

```{r}
drake::readd(google_mob_fill) %>%
  group_by(country_region, state_name, county_name, value_type) %>%
  summarise(
    start_date = min(date),
    end_date = max(date),
    count = n(),
    prop_na = mean(is.na(value))) %>%
  filter(count != 85 | prop_na > 0)
```

We also ensured that missing data interpolation ensured consistent number of dates and no missing values.

```{r}
drake::readd(google_mob_cpt) %>%
  select(-data, -cpt_mdl) %>%
  sample_n(1000) %>%
  DT::datatable()
```

## Reproducibility

```{r}
## datetime
Sys.time() 

## repository
git2r::repository()

## session info
sessionInfo()
```
